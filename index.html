<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cheppu AI</title>
    <meta name="description" content="Professional AI Workspace">
    <!-- Google Fonts: Inter for UI, Space Grotesk for Logo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-layout">

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">
                        <!-- Unique Cheppu AI Icon: Digital Synapse -->
                        <svg width="28" height="28" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 2L2 10V22L16 30L30 22V10L16 2Z" stroke="url(#logo-gradient)" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M16 8L8 12.5V20.5L16 25L24 20.5V12.5L16 8Z" fill="url(#logo-gradient)"
                                fill-opacity="0.2" stroke="url(#logo-gradient)" stroke-width="1.5" />
                            <circle cx="16" cy="16.5" r="3" fill="#fff" />
                            <defs>
                                <linearGradient id="logo-gradient" x1="2" y1="2" x2="30" y2="30"
                                    gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#fff" />
                                    <stop offset="1" stop-color="#666" />
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    <span class="logo-text">Cheppu AI</span>
                </div>
                <button class="icon-btn close-sidebar-btn" onclick="toggleSidebar()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <div class="sidebar-content">
                <button class="new-chat-btn" id="newChatBtn">
                    <!-- Hidden select for JS compatibility -->
                    <select id="modelType" style="display: none;">
                        <option value="chat">Chat</option>
                        <option value="image">Image</option>
                    </select>
            </div>

            <!-- Chat Controls -->
            <div id="chatControls" class="control-group">
                <label>Intelligence</label>
                <div class="custom-select-wrapper">
                    <select id="aiModel" class="custom-select">
                        <option value="auto">‚ú® Auto (Smartest)</option>
                        <optgroup label="Popular">
                            <option value="llama-3.3-70b-versatile">üß† Llama 3.3 70B (Versatile)</option>
                            <option value="llama-3.1-8b-instant">‚ö° Llama 3.1 8B (Instant)</option>
                            <option value="qwen/qwen3-32b">üêâ Qwen 3 32B</option>
                        </optgroup>
                        <optgroup label="Groq / Fast">
                            <option value="groq/compound">üöÄ Groq Compound</option>
                            <option value="groq/compound-mini">üèéÔ∏è Groq Compound Mini</option>
                        </optgroup>
                        <optgroup label="Llama 4 (Preview)">
                            <option value="meta-llama/llama-4-maverick-17b-128e-instruct">ü¶Ñ Llama 4 Maverick 17B
                            </option>
                            <option value="meta-llama/llama-4-scout-17b-16e-instruct">ü¶Ö Llama 4 Scout 17B</option>
                        </optgroup>
                        <optgroup label="Moonshot AI">
                            <option value="moonshotai/kimi-k2-instruct">üåô Kimi K2 Instruct</option>
                            <option value="moonshotai/kimi-k2-instruct-0905">üåë Kimi K2 (0905)</option>
                        </optgroup>
                        <optgroup label="OpenAI OSS">
                            <option value="openai/gpt-oss-120b">ü§ñ GPT-OSS 120B</option>
                            <option value="openai/gpt-oss-20b">ü§ñ GPT-OSS 20B</option>
                            <option value="openai/gpt-oss-safeguard-20b">üõ°Ô∏è GPT-OSS Safeguard 20B</option>
                        </optgroup>
                        <optgroup label="Safety / Guard">
                            <option value="meta-llama/llama-guard-4-12b">üõ°Ô∏è Llama Guard 4 12B</option>
                            <option value="meta-llama/llama-prompt-guard-2-22m">üõ°Ô∏è Prompt Guard 22M</option>
                            <option value="meta-llama/llama-prompt-guard-2-86m">üõ°Ô∏è Prompt Guard 86M</option>
                        </optgroup>
                        <optgroup label="Creative">
                            <option value="mixtral-8x7b-32768">üé® Mixtral 8x7B</option>
                        </optgroup>
                    </select>
                    <div class="select-arrow">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Image Controls (Initially Hidden) -->
            <div id="imageControls" class="control-group" style="display: none;">
                <label>Image Settings</label>
                <div class="custom-select-wrapper" style="margin-bottom: 10px;">
                    <select id="apiSelect" class="custom-select">
                        <option value="pollinations-turbo">‚ö° Turbo (Fastest)</option>
                        <option value="pollinations-flux">‚ú® Flux (High Quality)</option>
                    </select>
                    <div class="select-arrow">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </div>
                </div>
                <div class="custom-select-wrapper">
                    <select id="modelSelect" class="custom-select">
                        <option value="flux">Standard</option>
                        <option value="3d">3D Render</option>
                        <option value="anime">Anime Style</option>
                    </select>
                    <div class="select-arrow">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Legacy/Hidden Elements for Script Compatibility -->
            <div style="display: none;">
                <select id="ratioSelect">
                    <option value="1:1">1:1</option>
                    <option value="16:9">16:9</option>
                    <option value="9:16">9:16</option>
                </select>
                <div id="apiSelector"></div>
                <div id="modelSelector"></div>
                <div id="aspectRatioSelector"></div>
                <div id="widthSelector"><select id="widthInput">
                        <option value="1024">1024</option>
                        </button>
                        <span class="header-title">Cheppu AI</span>
                        <button class="icon-btn theme-btn" id="themeToggle">
                            <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="5" />
                                <path
                                    d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
                            </svg>
                            <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" style="display: none;">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                            </svg>
                        </button>
                        </header>

                        <div class="chat-area" id="chatContainer">
                            <div class="welcome-screen" id="welcomeScreen">
                                <div class="welcome-hero">
                                    <h1>Good evening</h1>
                                    <p>What would you like to create today?</p>
                                </div>
                                <div class="suggestions-grid" id="chatSuggestions">
                                    <button class="suggestion-card" data-prompt="Explain quantum computing">
                                        <span class="icon">‚öõÔ∏è</span>
                                        <span class="text">Quantum Computing</span>
                                    </button>
                                    <button class="suggestion-card" data-prompt="Write a Python script">
                                        <span class="icon">üêç</span>
                                        <span class="text">Python Script</span>
                                    </button>
                                    <button class="suggestion-card" data-prompt="Creative writing tips">
                                        <span class="icon">‚úçÔ∏è</span>
                                        <span class="text">Creative Writing</span>
                                    </button>
                                </div>
                                <div class="suggestions-grid" id="imageSuggestions" style="display: none;">
                                    <button class="suggestion-card" data-prompt="Cyberpunk city at night">
                                        <span class="icon">üåÉ</span>
                                        <span class="text">Cyberpunk City</span>
                                    </button>
                                    <button class="suggestion-card" data-prompt="Abstract digital art">
                                        <span class="icon">üé®</span>
                                        <span class="text">Abstract Art</span>
                                    </button>
                                </div>
                            </div>
                            <div class="messages-list" id="messagesContainer"></div>
                        </div>

                        <div class="input-wrapper">
                            <div class="input-container">
                                <textarea id="messageInput" placeholder="Message Cheppu..." rows="1"></textarea>
                                <button id="sendBtn" class="send-btn">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M22 2L11 13M22 2L15 22L11 13L2 9L22 2Z" />
                                    </svg>
                                </button>
                            </div>
                            <div class="input-footer">
                                <span>Cheppu AI can make mistakes. Check important info.</span>
                            </div>
                        </div>

                        </main>
                </div>

                <script src="script.js"></script>
                <script>
                    // Helper for custom UI
                    function setMode(mode) {
                        document.querySelectorAll('.segment').forEach(b => b.classList.remove('active'));
                        document.querySelector(`.segment[data-value="${mode}"]`).classList.add('active');
                        document.getElementById('modelType').value = mode;

                        // Trigger existing logic
                        const event = new Event('change');
                        document.getElementById('modelType').dispatchEvent(event);

                        // UI Toggle
                        document.getElementById('chatControls').style.display = mode === 'chat' ? 'block' : 'none';
                        document.getElementById('imageControls').style.display = mode === 'image' ? 'block' : 'none';
                        document.getElementById('chatSuggestions').style.display = mode === 'chat' ? 'grid' : 'none';
                        document.getElementById('imageSuggestions').style.display = mode === 'image' ? 'grid' : 'none';
                    }

                    if ('serviceWorker' in navigator) {
                        window.addEventListener('load', () => {
                            navigator.serviceWorker.register('/sw.js').catch(err => console.log('SW failed:', err));
                        });
                    }
                </script>
</body>

</html>